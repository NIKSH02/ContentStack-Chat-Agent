/* ContentStack Chat Widget CSS */
@import 'tailwindcss';

/* SDK-specific base styles */
.contentstack-chat-widget {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  /* Ensure isolation from host site styles */  
  all: initial;
  * {
    box-sizing: border-box;
  }
}

/* Typing cursor animation */
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Smooth scrolling for chat */
.chat-container {
  scroll-behavior: smooth;
}

/* Custom markdown styling */
.chat-markdown {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* AGGRESSIVE POSITIONING - Override any host site styles */
.contentstack-chat-widget {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  position: fixed !important;
  z-index: 999999 !important;
  pointer-events: auto !important;
  display: block !important;
  visibility: visible !important;
  
  /* Ensure it doesn't get affected by transforms or other positioning contexts */
  transform: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Force specific styles that might be overridden by host site */
.contentstack-chat-widget * {
  box-sizing: border-box !important;
}

/* Ensure ALL child elements maintain fixed positioning */
.contentstack-chat-widget > div {
  position: fixed !important;
  z-index: 999999 !important;
}

/* Specific positioning overrides */
.contentstack-chat-widget[class*="bottom"][class*="right"] {
  bottom: 1.25rem !important; /* 5 in Tailwind */
  right: 0.5rem !important;   /* 2 in Tailwind */
}

@media (min-width: 640px) {
  .contentstack-chat-widget[class*="bottom"][class*="right"] {
    right: 1rem !important;   /* 4 in Tailwind for sm: */
  }
}

/* Chat window positioning overrides */
.contentstack-chat-widget div[class*="bottom-24"] {
  bottom: 6rem !important;    /* 24 in Tailwind */
  right: 0.5rem !important;
  position: fixed !important;
  z-index: 999999 !important;
}

@media (min-width: 640px) {
  .contentstack-chat-widget div[class*="bottom-24"] {
    right: 1rem !important;
  }
}

/* Prevent any layout shifts or invisible states */
.contentstack-chat-widget {
  opacity: 1 !important;
  transform: translateZ(0) !important; /* Force hardware acceleration */
}

/* Mobile responsive fixes */
@media (max-width: 640px) {
  .contentstack-chat-widget {
    position: fixed !important;
  }
  
  .contentstack-chat-widget div[class*="inset-x-4"] {
    left: 1rem !important;
    right: 1rem !important;
    position: fixed !important;
  }
}